---
sidebar_position: 2
---

# Использование

## Показать URL подписки

Команда для вывода текущего URL подписки из контейнерной среды:

```bash
cd /opt/3dp-manager && docker compose exec node env | grep SUB_URL | cut -d'=' -f2
```

<small>Резюме: выводит статический URL подписки, который может использоваться клиентами. Работает как на основном, так и на промежуточном серверах.</small>

## Сбор доменов из нескольких подписок

Эта утилита извлекает домены из подписок и генерирует `белый список` для генератора.

```bash
node get_domains.js
```

<small>Краткое описание: добавьте URL-адрес с несколькими подписками в скрипт и запустите команду — она выведет список доменов. Требуется `Node.js`.</small>

## Использование настраиваемого белого списка

1. Подготовьте файл в формате `whitelist.txt`.
```text title="my_whitelist.txt"
refersion.com
vk.com
miro.com
cloudflare.com
google.com
```
2. Переименуйте его в `my_whitelist.txt` и скопируйте в `/opt/3dp-manager/app`.

```bash
cd /opt/3dp-manager && docker cp ./app/my_whitelist.txt node:/app/my_whitelist.txt
```

<small>Резюме: добавляет ваш файл домена в контейнер приложения. Чтобы немедленно сгенерировать входящие соединения с новым списком, запустите `docker exec -it node sh`, а затем `node rotate.js`.</small>

## Ручное выполнение генерации

Чтобы создать новые входящие, выполните следующие команды по порядку:

```bash
cd /opt/3dp-manager
docker exec -it node sh
node rotate.js
```

<small>Резюме: выполняет немедленную генерацию входящих без влияния на запланированный интервал ротации.</small>